# Makefile.in generated by automake 1.8.5 from Makefile.am.
# @configure_input@

# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
# 2003, 2004  Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.
CC = @CC@
#CC = @CXX@
#SVN_VERSION=`svn info|grep 'Last Changed Rev'|head -1|sed 's/.* \([0-9]\)/\1/'`

DEFS = -DPROGRAM_VERSION=\"$(SVN_VERSION)\"
DEFAULT_INCLUDES = -I. 
CPPFLAGS = @CPPFLAGS@
CCOMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
	$(AM_CPPFLAGS) $(AM_CFLAGS) $(CPPFLAGS) 
SHELL = @SHELL@
LIB_CXXFLAGS=@LIB_CFLAGS@
LIB_LDFLAGS=@LIB_LDFLAGS@
ARCHIVE = @ARCHIVE@
AR_FLAGS = @AR_FLAGS@

###################################################################################
#write your own rules here                                                        #
###################################################################################
CDBL = libcdbl.a

PBADIR  = @prefix@
BASE_DIR = $(PBADIR)/src/tsbase
BASESVR_DIR=$(PBADIR)/src/basesvr
PG_INCLUDE_DIR=$(PBADIR)/src/cdbl/postgresql
SQLSVR_INCLUDE_DIR=$(PBADIR)/src/cdbl/sqlserver
LIB_DIR = $(PBADIR)/lib

CDBL_OBJ = cdbl.o                       

CDBL_SRC = $(CDBL_OBJ:.o=.c)

EXT_CFLAGS = -I$(BASE_DIR) -I$(BASESVR_DIR) -I/usr/local/include -I$(PG_INCLUDE_DIR) -I$(SQLSVR_INCLUDE_DIR)

EXT_LDFLAGS = -L$(LIB_DIR) -L/usr/local/lib -L/usr/local/freetds/lib -L/usr/local/pgsql/lib -ltsbase -lpthread -lz -lssl -lcrypto -lm -liconv -lsybdb -lpq -ldl -Wl,-R /usr/local/lib

INCLUDES += $(EXT_CFLAGS)

all: $(CDBL)

$(CDBL):depend $(CDBL_OBJ)
	$(ARCHIVE) $(AR_FLAGS) $@ $(CDBL_OBJ)
	
check:
	clang --analyze $(CDBL_SRC)

depend: $(CDBL_SRC)
	makedepend  $(DEFAULT_INCLUDES) $(INCLUDES) $(EXT_CFLAGS) $(CDBL_SRC)  2>/dev/null

install:$(CDBL)
	cp $(CDBL) @prefix@/lib	

clean:
	rm -f $(CDBL)  
	rm -f *.o *.gch *.plist
	
include @prefix@/rules.mk

	
